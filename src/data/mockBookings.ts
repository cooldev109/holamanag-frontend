import type { Booking, Guest } from '@/types/booking';

export const MOCK_GUESTS: Guest[] = [
  {
    id: 'guest-1',
    firstName: 'John',
    lastName: 'Smith',
    email: 'john.smith@email.com',
    phone: '+1 555 123 4567',
    type: 'individual',
    country: 'USA',
    createdAt: '2025-01-15T10:00:00Z',
    totalBookings: 3,
    totalSpent: 1250,
  },
  {
    id: 'guest-2',
    firstName: 'Sarah',
    lastName: 'Johnson',
    email: 'sarah.johnson@techcorp.com',
    phone: '+1 555 234 5678',
    type: 'corporate',
    company: 'TechCorp Inc.',
    country: 'USA',
    createdAt: '2024-11-20T14:30:00Z',
    totalBookings: 8,
    totalSpent: 4200,
  },
  {
    id: 'guest-3',
    firstName: 'Michael',
    lastName: 'Chen',
    email: 'michael.chen@email.com',
    phone: '+1 555 345 6789',
    type: 'individual',
    country: 'Canada',
    createdAt: '2025-02-01T09:15:00Z',
    totalBookings: 1,
    totalSpent: 350,
  },
  {
    id: 'guest-4',
    firstName: 'Emily',
    lastName: 'Rodriguez',
    email: 'emily.rodriguez@email.com',
    phone: '+1 555 456 7890',
    type: 'group',
    notes: 'Wedding party coordinator',
    country: 'USA',
    createdAt: '2024-12-10T16:00:00Z',
    totalBookings: 2,
    totalSpent: 5600,
  },
  {
    id: 'guest-5',
    firstName: 'David',
    lastName: 'Williams',
    email: 'david.williams@email.com',
    phone: '+1 555 567 8901',
    type: 'individual',
    country: 'UK',
    createdAt: '2025-01-28T11:20:00Z',
    totalBookings: 1,
    totalSpent: 0, // pending payment
  },
];

export const MOCK_BOOKINGS: Booking[] = [
  {
    id: 'book-1',
    guest: MOCK_GUESTS[0],
    guestId: 'guest-1',
    propertyId: 'prop-1',
    propertyName: 'Sunset Beach Resort',
    roomId: 'room-1',
    roomName: 'Deluxe Ocean View Suite',
    roomNumber: '101',
    checkInDate: '2025-10-15',
    checkOutDate: '2025-10-18',
    checkInTime: '15:00',
    checkOutTime: '11:00',
    nights: 3,
    adults: 2,
    children: 0,
    status: 'confirmed',
    paymentStatus: 'paid',
    roomRate: 250,
    subtotal: 750,
    taxes: 90,
    fees: 30,
    discount: 0,
    total: 870,
    amountPaid: 870,
    amountDue: 0,
    specialRequests: 'Late check-out if possible',
    messages: [
      {
        id: 'msg-1',
        bookingId: 'book-1',
        senderId: 'system',
        senderName: 'System',
        senderType: 'system',
        message: 'Booking confirmed. Confirmation code: RST-2510-001',
        timestamp: '2025-10-08T14:30:00Z',
        read: true,
      },
    ],
    unreadMessages: 0,
    source: 'website',
    confirmationCode: 'RST-2510-001',
    createdAt: '2025-10-08T14:30:00Z',
    updatedAt: '2025-10-08T14:30:00Z',
    createdBy: 'system',
  },
  {
    id: 'book-2',
    guest: MOCK_GUESTS[1],
    guestId: 'guest-2',
    propertyId: 'prop-2',
    propertyName: 'Downtown Business Hotel',
    roomId: 'room-2',
    roomName: 'Executive Room',
    roomNumber: '505',
    checkInDate: '2025-10-12',
    checkOutDate: '2025-10-14',
    checkInTime: '14:00',
    checkOutTime: '12:00',
    nights: 2,
    adults: 1,
    children: 0,
    status: 'checked-in',
    paymentStatus: 'paid',
    roomRate: 180,
    subtotal: 360,
    taxes: 43.2,
    fees: 20,
    discount: 36, // 10% corporate discount
    total: 387.2,
    amountPaid: 387.2,
    amountDue: 0,
    notes: 'Corporate account - TechCorp Inc.',
    messages: [
      {
        id: 'msg-2',
        bookingId: 'book-2',
        senderId: 'staff-1',
        senderName: 'Front Desk',
        senderType: 'staff',
        message: 'Guest checked in at 2:15 PM. Requested extra towels.',
        timestamp: '2025-10-12T14:15:00Z',
        read: true,
      },
    ],
    unreadMessages: 0,
    source: 'booking-engine',
    confirmationCode: 'DBH-2510-045',
    createdAt: '2025-10-05T09:20:00Z',
    updatedAt: '2025-10-12T14:15:00Z',
    createdBy: 'system',
  },
  {
    id: 'book-3',
    guest: MOCK_GUESTS[2],
    guestId: 'guest-3',
    propertyId: 'prop-1',
    propertyName: 'Sunset Beach Resort',
    roomId: 'room-3',
    roomName: 'Standard Double Room',
    roomNumber: '102',
    checkInDate: '2025-10-20',
    checkOutDate: '2025-10-23',
    checkInTime: '15:00',
    checkOutTime: '11:00',
    nights: 3,
    adults: 2,
    children: 1,
    status: 'pending',
    paymentStatus: 'unpaid',
    roomRate: 150,
    subtotal: 450,
    taxes: 54,
    fees: 25,
    discount: 0,
    total: 529,
    amountPaid: 0,
    amountDue: 529,
    specialRequests: 'Need a crib for the baby',
    messages: [
      {
        id: 'msg-3',
        bookingId: 'book-3',
        senderId: 'guest-3',
        senderName: 'Michael Chen',
        senderType: 'guest',
        message: 'Hi, can I get a crib in the room for my 1-year-old?',
        timestamp: '2025-10-09T16:45:00Z',
        read: false,
      },
    ],
    unreadMessages: 1,
    source: 'website',
    confirmationCode: 'RST-2510-047',
    createdAt: '2025-10-09T16:30:00Z',
    updatedAt: '2025-10-09T16:45:00Z',
    createdBy: 'system',
  },
  {
    id: 'book-4',
    guest: MOCK_GUESTS[3],
    guestId: 'guest-4',
    propertyId: 'prop-3',
    propertyName: 'Mountain View Villa',
    roomId: 'room-10',
    roomName: 'Family Suite',
    roomNumber: '201',
    checkInDate: '2025-11-05',
    checkOutDate: '2025-11-08',
    checkInTime: '16:00',
    checkOutTime: '10:00',
    nights: 3,
    adults: 6,
    children: 2,
    status: 'confirmed',
    paymentStatus: 'partial',
    roomRate: 350,
    subtotal: 1050,
    taxes: 126,
    fees: 50,
    discount: 105, // 10% group discount
    total: 1121,
    amountPaid: 500,
    amountDue: 621,
    notes: 'Wedding party - 8 guests total',
    messages: [],
    unreadMessages: 0,
    source: 'phone',
    confirmationCode: 'MVV-2511-012',
    createdAt: '2025-10-03T11:00:00Z',
    updatedAt: '2025-10-05T15:00:00Z',
    createdBy: 'admin@demo.io',
  },
  {
    id: 'book-5',
    guest: MOCK_GUESTS[4],
    guestId: 'guest-5',
    propertyId: 'prop-1',
    propertyName: 'Sunset Beach Resort',
    roomId: 'room-1',
    roomName: 'Deluxe Ocean View Suite',
    roomNumber: '101',
    checkInDate: '2025-10-05',
    checkOutDate: '2025-10-07',
    checkInTime: '15:00',
    checkOutTime: '11:00',
    nights: 2,
    adults: 2,
    children: 0,
    status: 'checked-out',
    paymentStatus: 'paid',
    roomRate: 250,
    subtotal: 500,
    taxes: 60,
    fees: 25,
    discount: 0,
    total: 585,
    amountPaid: 585,
    amountDue: 0,
    messages: [
      {
        id: 'msg-4',
        bookingId: 'book-5',
        senderId: 'staff-1',
        senderName: 'Front Desk',
        senderType: 'staff',
        message: 'Guest checked out at 10:30 AM. Left excellent feedback.',
        timestamp: '2025-10-07T10:30:00Z',
        read: true,
      },
    ],
    unreadMessages: 0,
    source: 'ota',
    confirmationCode: 'RST-2510-028',
    createdAt: '2025-09-28T13:20:00Z',
    updatedAt: '2025-10-07T10:30:00Z',
    createdBy: 'system',
  },
  {
    id: 'book-6',
    guest: MOCK_GUESTS[0],
    guestId: 'guest-1',
    propertyId: 'prop-2',
    propertyName: 'Downtown Business Hotel',
    roomId: 'room-5',
    roomName: 'Standard Room',
    roomNumber: '304',
    checkInDate: '2025-10-25',
    checkOutDate: '2025-10-27',
    checkInTime: '14:00',
    checkOutTime: '12:00',
    nights: 2,
    adults: 1,
    children: 0,
    status: 'cancelled',
    paymentStatus: 'refunded',
    roomRate: 120,
    subtotal: 240,
    taxes: 28.8,
    fees: 15,
    discount: 0,
    total: 283.8,
    amountPaid: 283.8,
    amountDue: 0,
    cancellationDate: '2025-10-10T09:00:00Z',
    cancellationReason: 'Change of plans',
    cancellationFee: 0,
    messages: [
      {
        id: 'msg-5',
        bookingId: 'book-6',
        senderId: 'guest-1',
        senderName: 'John Smith',
        senderType: 'guest',
        message: 'I need to cancel my booking. My business trip got postponed.',
        timestamp: '2025-10-10T08:45:00Z',
        read: true,
      },
      {
        id: 'msg-6',
        bookingId: 'book-6',
        senderId: 'staff-1',
        senderName: 'Reservations Team',
        senderType: 'staff',
        message: 'Your booking has been cancelled and fully refunded. Refund will appear in 5-7 business days.',
        timestamp: '2025-10-10T09:00:00Z',
        read: true,
      },
    ],
    unreadMessages: 0,
    source: 'website',
    confirmationCode: 'DBH-2510-058',
    createdAt: '2025-10-02T17:30:00Z',
    updatedAt: '2025-10-10T09:00:00Z',
    createdBy: 'system',
  },
  {
    id: 'book-7',
    guest: MOCK_GUESTS[1],
    guestId: 'guest-2',
    propertyId: 'prop-1',
    propertyName: 'Sunset Beach Resort',
    roomId: 'room-8',
    roomName: 'Premium Suite',
    roomNumber: '301',
    checkInDate: '2025-10-11',
    checkOutDate: '2025-10-13',
    checkInTime: '15:00',
    checkOutTime: '11:00',
    nights: 2,
    adults: 1,
    children: 0,
    status: 'no-show',
    paymentStatus: 'paid',
    roomRate: 280,
    subtotal: 560,
    taxes: 67.2,
    fees: 30,
    discount: 0,
    total: 657.2,
    amountPaid: 657.2,
    amountDue: 0,
    notes: 'Guest did not show up or contact us',
    messages: [
      {
        id: 'msg-7',
        bookingId: 'book-7',
        senderId: 'system',
        senderName: 'System',
        senderType: 'system',
        message: 'Booking marked as no-show. Guest did not arrive by midnight.',
        timestamp: '2025-10-12T00:05:00Z',
        read: true,
      },
    ],
    unreadMessages: 0,
    source: 'ota',
    confirmationCode: 'RST-2510-042',
    createdAt: '2025-10-04T10:15:00Z',
    updatedAt: '2025-10-12T00:05:00Z',
    createdBy: 'system',
  },
  {
    id: 'book-8',
    guest: MOCK_GUESTS[2],
    guestId: 'guest-3',
    propertyId: 'prop-2',
    propertyName: 'Downtown Business Hotel',
    roomId: 'room-7',
    roomName: 'Deluxe King',
    roomNumber: '602',
    checkInDate: '2025-10-13',
    checkOutDate: '2025-10-16',
    checkInTime: '14:00',
    checkOutTime: '12:00',
    nights: 3,
    adults: 2,
    children: 0,
    status: 'confirmed',
    paymentStatus: 'unpaid',
    roomRate: 200,
    subtotal: 600,
    taxes: 72,
    fees: 30,
    discount: 0,
    total: 702,
    amountPaid: 0,
    amountDue: 702,
    specialRequests: 'High floor, quiet room',
    messages: [],
    unreadMessages: 0,
    source: 'email',
    confirmationCode: 'DBH-2510-063',
    createdAt: '2025-10-08T15:40:00Z',
    updatedAt: '2025-10-08T15:40:00Z',
    createdBy: 'admin@demo.io',
  },
];

export const getBookingsByStatus = (status: Booking['status']): Booking[] => {
  return MOCK_BOOKINGS.filter(booking => booking.status === status);
};

export const getBookingsByProperty = (propertyId: string): Booking[] => {
  return MOCK_BOOKINGS.filter(booking => booking.propertyId === propertyId);
};

export const getBookingsByGuest = (guestId: string): Booking[] => {
  return MOCK_BOOKINGS.filter(booking => booking.guestId === guestId);
};

export const getUpcomingBookings = (): Booking[] => {
  const today = new Date().toISOString().split('T')[0];
  return MOCK_BOOKINGS.filter(
    booking =>
      booking.checkInDate >= today &&
      (booking.status === 'confirmed' || booking.status === 'pending')
  );
};

export const getCurrentBookings = (): Booking[] => {
  const today = new Date().toISOString().split('T')[0];
  return MOCK_BOOKINGS.filter(
    booking =>
      booking.status === 'checked-in' &&
      booking.checkInDate <= today &&
      booking.checkOutDate >= today
  );
};
